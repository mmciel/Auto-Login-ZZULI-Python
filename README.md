# zzuli 校园网自动登录助手

## 简介

- 一个用于校园网自动登录的工具
- 利用python3+requests实现

## 实现思路

- 爬虫分析登录请求过程
- requests模拟登录

## 疑难解答

- 脚本怎么用
  - 安装python3
  - 利用pip包管理器安装所需要的支持包
  - 启动脚本
- 有更简单的方法吗？
  - 在windows系统下，我已经打包成了exe，只需要双击即可运行

 - 脚本闪退或者程序闪退是为啥：
   - 以管理员方式运行
   - 先连接校园网（不用登录），在启动脚本或者程序
   - 工具bug或校园网bug
- 设置用户密码设置错了怎么办：
  - 找到程序同一目录下的login_data.ini文件删掉重启程序
  - 手动修改login_data.ini

## 如何打包成exe

打包：

```
pip install pyinstaller

pyinstaller -F -i ico.ico 文件名.py
```



## 如何安装支持包：

```
pip install platform
pip install requests
```



## PS：

不说了，反正没人看。



-------------------------



## V1.4更新日志
- 重写爬虫逻辑、简化请求逻辑，更快连接
- 增加windows+linux双支持
- 增加登录失败原因返回
- 增加抢占式登录，防止被挤
- 增加校园网、校内资源登录选项（2019年7月10日19:28:17）



## V1.3已知BUG

- 例如SSR梯子运行后，由于系统网路设置发生变化，浏览器无法直接弹出登录网页，进而脚本进行参数获取被迫中断，体现在程序运行上便是闪退。（2019-4-8 16:43:14）
- 当系统禁用无线网络时，会输出连接失败等提示。



## V1.3更新日志：

- 重写爬虫逻辑
- 优化获取真实登录url的速度
- 精简R参数
- 通过中间url构造带Referer参数的请求头
- 打包成exe

## V1.1更新日志：

​	ps：1.0写完之后很遗憾只有第一天能用，第二天我抓的包发现服务器ip变了。。。变了。。。了。。。我就不得不喷这个破网了，价钱死贵、只能单端登录、还是动态的。走投无路的我，决定每天抓一个包。然后觉得好麻烦啊，我这么懒。然后我暴力了2*256个地址（测试发现000.000.24.0——000.000.25.255）。发现除了慢之外没啥了。开多线程呢？还行。。。这就不符合我写这个脚本的初衷了，我以0基础爬虫入门两小时的功底，直觉告诉我，绝对有一个静态的地址跳转，然后返回一个动态的地址接收登录信息。完美，用了Chrome抓了十几次都没抓到，不过我想到了fiddler。一次抓到了，很开心。然后就分析了那个字符串，然后构造个包，就OK了。

- 获取了动态url，不用再向以前一样堆url和请求包了。
- 自动连接wifi，不用再用win10自带的了。
